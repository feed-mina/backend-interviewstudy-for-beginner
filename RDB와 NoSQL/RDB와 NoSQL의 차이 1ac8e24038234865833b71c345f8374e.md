# RDB와 NoSQL의 차이 
- 스키마란

스키마는 데이터베이스의 구조와 제약조건에 관한 전반적인 명세를 기술한것이다. 스키마는 데이터베이스를 구성하는 데이터 개체(Entity), 개체의 특성을 나타내는 속성(Attribute), 개체 사이에 존재하는 관계(Relationship) 및 데이터 조작 시 데이터 값들이 갖는 제약 조건 등에 관하여 기술한다. 

<aside>
💡 한 문장으로 RDBMS와 NoSQL을 비교하자면 **RDBMS**는 일관성과 신뢰를 보장하기 위해 데이터 유형에 제약을 두고 **NoSQL**은 이러한 제약을 없애 속도, 유연성 및 확장성을 선사하는 것이라 볼 수 있다.

</aside>

![Untitled](RDB%E1%84%8B%E1%85%AA%20NoSQL%E1%84%8B%E1%85%B4%20%E1%84%8E%E1%85%A1%E1%84%8B%E1%85%B5%201ac8e24038234865833b71c345f8374e/Untitled.png)

> RDBMS
> 

<aside>
💡 * 데이터베이스의 ACID 성질을 준수해야 하는 소프트웨어를 개발하는 경우 
* 관계를 맺고 있는 데이터가 자주 변경되는 애플레이션의 경우
* 변경될 여지가 없고 명확한 스키마가 사용자와 데이터에게 중요한 경우

</aside>

( ACID는 Atomicity(원자성), Consistency(일관성), Isolation(격리성), Durability(지속성)의 약어) 데이터베이스에서 실행되는 하나의 트랜잭션에 의한 상태의 변화를 수행하는 과정에서 안전성을 보장하기 위해 필요한 성질을 뜻한다)

- DBMS 앞에 R (Relational) 이 추가되어 관계형 데이터베이스 관리 시스템이라고 한다. RDBMS는 RDB를 관리하는 시스템이며 RDB는 관계형 데이터 모델을 기초로 두고 모든 데이터를 2차원 테이블 형태로 표현하는 데이터베이스로 즉 관계형 데이터베이스를 생성하고 수정, 삭제 관리할 수 있는 소프트웨어 라고 정의
- 관계형 데이터베이스(RDBMS)에서는 외래키(foreign key)라는 것을 사용, 이러한 테이블간의 관계에서 외래키를 이용한 테이블 간 Join이 가능하다는게 RDBMS의 가장 큰 특징이다.
- Data를 Column 과 Row 형태로 저장한다. 데이터의 분류, 정렬, 탐색 속도가 비교적 빠르다. SQL(Structed Query Language, 구조화 질의어)라는 정교한 검색 query를 통해 데이터를 다룬다. Transaction(작업의 안전성을 보장) 반드시 Schema 규격에 맞춰야 한다.
- 부하의 분산이 어렵다. (수직확장만 가능)
- 대표적으로 MySQL, SQLite, PostgreSQL, Oracle 등이 있다.
- 장점은 정해진 스키마에 따라 데이터를 저장하여야 하므로 명확한 데이터 구조를 보장하고 또한 관계는 각 데이터를 중복없이 한 번만 저장할 수 있다.
- 단점은 테이블 간 테이블간 관계를 맺고 있어 시스템이 커질 경우 JOIN문이 많은 복잡한 쿼리가 만들어질수 있다. 성능향상을 위해서는 서버의 성능을 향상 시켜야 하는 Scale-up만을 지원한다. 이로 인해 비용이 기하급수적으로 늘어날 수 있다. 스키마로 인해 데이터가 유연하지 못한다. 나중에 스키마가 변경될 경우 번거롭고 어렵습니다.

```swift
유연성 : 스키마 선언 없이 필드의 추가 및 삭제가 자유로운 Schema-less 구조
확장성 : 스케일 아웃 ( 수평 확장 ) 에 의한 서버 확장이 용이
고성능 : 대용량 데이터를 처리하는 성능이 뛰어나다
가용성 : 여러 대의 백업 서버 구성이 가능 ( 수평 확장 ) 하여 장애 발생 시에도 무중단 서비스가 가능
데이터간의 관계를 정의하지 않는다. (Table 간의 join 도 불가능)
RDBMS의 복잡도와 용량 한계를 극복하기 위한 목적으로 등장한 만큼 RDBMS에 비해 훨씬 더 대용량의 데이터를 저장할 수 있다.
분산형 구조 : 데이터를 여러 대의 서버에 분산해 저장
고정되지 않은 Table Schema (Schema가 없어 다루기 쉬움)
Key에 대한 입/출력만 지원한다.
Schema가 없다보니 Data에 대한 규격화된 결과 값을 얻기 힘들다. 
```

> NoSQL (NOT Only SQL)
> 

<aside>
💡 * 정확한 데이터의 구조를 알 수 없거나 변경, 확장될 가능성이 있는 경우
* 읽기는 자주 해도 데이터 변경은 자주 없는 경우
* 막대한 양의 데이터를 다뤄야 해서 데이터베이스를 수평으로 확장해야 하는 경우

</aside>

- NoSQL에서는 RDBMS와는 달리 테이블 간 관계를 정의하지 않습니다. 데이터 테이블은 그냥 하나의 테이블이며 테이블 간의 관계를 정의하지 않아 일반적으로 테이블 간 Join도 불가능하다. NoSQL은 점점 빅데이터의 등장으로 인해 데이터와 트래픽이 기하급수적으로 증가함에 따라 RDBMS에 단점인 성능을 향상시키기 위해서는 장비가 좋아야 하는 Scale-up의 특징이 비용을 기하급수적으로 증가되기 때문에 데이터 일관성은 포기하되 비용을 고려하여 여러 대의 데이터에 분산하여 저장하는 Scale-Out을 목표로 등장하였다.
- NoSQL로 보통 Document기반의 MongoDB를 많이 알지만 MongoDB는 NoSQL 한 종류로 NoSQL은 다양한 형태(4가지)의 저장 기술을 지원한다. 이 다양한 형태의 저장기술은 RDBMS 스키마에 맞추어 데이터를 관리해야 된다는 한계를 극복하고 수평적 확장성 (Scale-out)을 쉽게 할 수 있다는 장점을 갖고 있다.
- RDBMS와 달리 데이터 간의 관계를 정의하지 않느다. RDBMS는 데이터 관계를 외래키 등으로 정의하고 JOIN 연산을 수행할 수 있지만 NoSQL은 JOIN연산이 불가능하다.
- RDBMS에 비해 대용량의 데이터를 저장할 수 있다. 페타바이트 급의 대용량 데이터를 저장할 수 있다.
- 분산형 구조이다.
- 여러 곳의 서버에 데이터를 분산 저장해 특정 서버에 장애가 발생했을때도 데이터 유실 혹은 서비스 중지가 발생하지 않도록 한다.

4가지 저장 기술

- Document Database

Document Database데이터는 Key와 Document의 형태로 저장된다. key-value모델과 다른점이면 value가 계층적인 형태인 도큐먼트로 저장된다는 것이다. 객체지향에서의 객체와 유사하며 이들은 하나의 단위로 취급되어 저장된다. 하나의 객체를 여러개의 테이블에 나눠 저장할 필요가 없어진다. 

- Graph Database

Graph Database에서는 데이터를 Node와 Edge, Property와 함께 그래프 구조를 사용하여 데이터를 표현하고 저장합니다. 객체와 관계를 그래프 형태로 표현한것이므로 관계형 모델이라고 할 수 있으며 데이터 간의 관계가 탐색의 키일 경우에 적합합니다. 페이스북이나 트위터 같은 소셜 네트워크에서 (내친구의 친구를 찾는 질의 등)적합하고 연관된 데이터를 추천해주는 추천 엔진이나 패턴 인식 등의 데이터베이스로 적합하다.

- Key-Value Database

Key-Value Database는 데이터가 Key와 Value의 쌍으로 저장된다. Key는 Value에 접근하기 위한 용도로 사용되며 값은 어떠한 형태의 데이터라도 담을 수 있다. 심지어는 이미지나 비디오가 가능하다. 또한 간단한 API를 제공하는 만큼 질의의 속도가 굉장히 빠른편이다.

- Wide Column Database

column-family Model 기반의 Database이며 이전의 모델들이 Key-Value 값을 이용해 필드를 결정했다면 특이하게도 이 모델은 키에서 필드를 결정합니다. 키는 Row(키 값)와 Column-family, Column-name을 가집니다. 관계형 모델로 설명하자면 어트리뷰트가 계층적인 구조를 가지고 있는 셈이다. 이렇게 저장된 데이터는 하나의 커다란 테이블로 표현이 가능하며 Row, Column-family, Column-name을 통해 수행됩니다.

![Untitled](RDB%E1%84%8B%E1%85%AA%20NoSQL%E1%84%8B%E1%85%B4%20%E1%84%8E%E1%85%A1%E1%84%8B%E1%85%B5%201ac8e24038234865833b71c345f8374e/Untitled%201.png)

NoSQL의 장점은 스키마가 없기 때문에 유연하며 자유로운 데이터 구조를 가질 수 있습니다. 언제든 저장된 데이터를 조정하고 새로운 필드를 추가할수 있습니다. 데이터 분산이 용이하며 성능 향상을 위한 Scale-up 뿐만이 아닌 Scale-out또한 가능합니다.

NoSQL의 단점은 데이터 중복이 발생할 수 있으며 중복된 데이터가 변경될 경우 수정을 모든 컬렉션에서 수정해야 합니다. 스키마가 존재하지 않기에 명확한 데이터 구조를 보장하지 않으며 데이터 구조 결정가 어려울수있씁니다. 데이터가 여러 컬렉션에 중복되어 있어서 데이터를 UPDATE하는 경우 모든 컬렉션에서 수행해야 하기 때문에 느리다. Key키 값에 대한 입,출력만 지원합니다. 많은 인덱스를 사용하려면 충분한 메모리가 필요하다. 인덱스 구조가 메모리에 저장된다. 데이터 업데이트 중 장애가 발생하면 데이터 손실 발생이 가능하다. 

```swift
RDBMS 
스키마는 명확한 데이터 구조를 보장하고 스키마로 인해 데이터가 유연하지 못합니다. 스키마가 변경 될 경우 번거롭고 어렵습니다. 
확장성은 Scale-up만을 지원하고 비용이 많이 듭니다.
테이블 간 관계성은 각 데이터를 중복없이 한번만 저장, 데이터의 일관성을 보증합니다. 시스템이 커질 경우 JOIN문이 많은 복잡한 쿼리가 만들어집니다. 
데이터 처리는 부하 발생시, 처리가 어렵지만 데이터의 UPDATE가 빠릅니다. 데이터 구조가 명확하며 변경될 여지가 없으며 명확한 스키마가 중요한 경우 사용하는 것이 좋습니다. 또한 중복된 데이터가 없어 (데이터 무결성) 변경이 용이하기 때문에 관계를 맺고 있는 데이터가 자주 변경이 이루어지는 시스템에 적합합니다.
```

```swift
NoSQL
스키마가 없어 유연하며 자유로운 데이터 구조를 가집니다. 언제든 저장된 데이터를 조정하고 새로운 필드를 추가 가능합니다. 명확한 데이터 구조를 보장하지 않고 데이터 구조 결정이 어렵습니다. 확장성은 Saclue-up과 Scale-out을 지원합니다. (데이터 분산이 용이합니다.) 테이블간 관계성은 데이터 중복이 발생 할 수 있으며 중복된 데이터가 변경 될 경우 수정을 모든 컬렉션에서 수정해야 합니다. 테이블 간 관계를 맺지 않아 복잡한 JOIN문이 사용되지 않습니다.
데이터 처리는 많은 양의 데이터를 처리하고 저장할 수 있지만 데이터를 UPDATE하는데 비교적 느립니다. 
정확한 데이터 구조를 알 수 없고 데이터가 변경/확장이 될 수 있는 경우에 사용하는 것이 좋습니다. 또한 단점에서도 명확하듯이 데이터 중복이 발생할 수 있으며 중복된 데이터가 변경 될 시에는 모든 컬렉션에서 수정을 해야 합니다. 이러한 특징들을 기반으로 Update가 많이 이루어지지 않는 시스템에 좋으며 또한 Scale-out이 가능하다는 장점을 할용해 막대한 데이터를 저장해야 해서 Database를 Scale-Out를 해야 되는 시스템에 적합합니다. 
```

![Untitled](RDB%E1%84%8B%E1%85%AA%20NoSQL%E1%84%8B%E1%85%B4%20%E1%84%8E%E1%85%A1%E1%84%8B%E1%85%B5%201ac8e24038234865833b71c345f8374e/Untitled%202.png)

출처:

[RDBMS와 NoSQL의 차이](https://www.whatap.io/ko/blog/173/)

[RDBMS와 NoSQL의 차이점 및 개념 완벽 정리](https://hstory0208.tistory.com/entry/RDBMS와-NoSQL의-차이점-및-개념-완벽-정리)

[RDB와 NoSQL은 무엇인가요? 차이점 또는 장단점 위주로 설명해주세요.](https://velog.io/@maestroks/RDB와-NoSQL은-무엇인가요-차이점-또는-장단점-위주로-설명해주세요)

> RDBMS
>